(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["recommend"],{"72c9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"wrap"},[n("div",{staticClass:"banner"},[n("loading",{directives:[{name:"show",rawName:"v-show",value:!e.bannerList.length,expression:"!bannerList.length"}]}),n("swiper",{directives:[{name:"show",rawName:"v-show",value:e.showBanner,expression:"showBanner"}],ref:"mySwiper",attrs:{options:e.swiperOption}},[e._l(e.bannerList,function(e){return n("swiper-slide",{key:e.id,staticClass:"banner-item"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.pic,expression:"item.pic"}],attrs:{alt:"图片"}})])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),n("div",{staticClass:"music-list"},[n("h3",[e._v("推荐歌单")]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!e.recommendList.length,expression:"!recommendList.length"}]}),n("ul",e._l(e.recommendList,function(t){return n("li",{key:t.id,staticClass:"list-item",on:{click:function(n){return e.handleItemClick(t.id)}}},[n("div",{staticClass:"cover"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"item.picUrl"}],attrs:{alt:"图片"}}),n("div",{staticClass:"count"},[n("i",{staticClass:"iconfont icon-listen"}),n("span",[e._v(e._s(e.formatNum(t.playCount)))])])]),n("p",{staticClass:"desc"},[e._v(e._s(t.name))])])}),0)],1),n("div",{staticClass:"music-latest"},[n("h3",[e._v("最新音乐")]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!e.latestList.length,expression:"!latestList.length"}]}),n("ul",e._l(e.latestList,function(t,a){return n("li",{key:t.id,staticClass:"latest-item",on:{click:function(t){return e.handleSelect(a)}}},[n("h4",{staticClass:"song"},[e._v(e._s(t.name))]),n("p",{staticClass:"singer"},[e._v(e._s(t.singerName))]),n("i",{staticClass:"iconfont icon-play-s"})])}),0)],1)]),n("animation-fade",[n("router-view")],1)],1)},i=[],s=n("cebc"),r=n("bc3a"),o=n.n(r),c=n("da71");function l(){return o.a.get("".concat(c["b"],"/banner?type=2")).then(function(e){return Promise.resolve(e.data)})}function u(){return o.a.get("".concat(c["b"],"/personalized?limit=9")).then(function(e){return Promise.resolve(e.data)})}function m(){return o.a.get("".concat(c["b"],"/personalized/newsong")).then(function(e){return Promise.resolve(e.data)})}var d=n("f5de"),h=n("2f62"),f={name:"recommend",data:function(){return{swiperOption:{autoplay:3e3,loop:!0,pagination:".swiper-pagination",initialSlide:1},bannerList:[],recommendList:[],latestList:[]}},computed:{showBanner:function(){return this.bannerList.length}},mounted:function(){this._getBanner(),this._getRecommend(),this._getLatest()},methods:Object(s["a"])({},Object(h["b"])(["selectPlay"]),{_getBanner:function(){var e=this;l().then(function(t){t.code===c["a"]&&(e.bannerList=t.banners)})},_getRecommend:function(){var e=this;u().then(function(t){t.code===c["a"]&&(e.recommendList=t.result)})},_getLatest:function(){var e=this;m().then(function(t){if(t.code===c["a"]){var n=t.result;e.latestList=Object(d["a"])(n)}})},handleItemClick:function(e){this.$router.push("/recommend/".concat(e))},handleSelect:function(e){this.selectPlay({list:this.latestList,index:e})},formatNum:function(e){return Math.round(e/1e4)+"万"}})},v=f,p=(n("96d2"),n("2877")),g=Object(p["a"])(v,a,i,!1,null,"5ebbcc20",null);t["default"]=g.exports},"96d2":function(e,t,n){"use strict";var a=n("b0a6"),i=n.n(a);i.a},b0a6:function(e,t,n){},f5de:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c});n("ac6a"),n("7f7f");var a=n("d225"),i=function e(t){var n=t.id,i=t.name,s=t.singerName,r=t.coverImg,o=t.albumName;Object(a["a"])(this,e),this.id=n,this.name=i,this.singerName=s,this.coverImg=r,this.albumName=o};function s(e,t){var n=[];return e?(e.forEach(function(e){n.push(e[t])}),n.join("/")):""}function r(e){var t=[];return e.forEach(function(e){t.push(new i({id:e.id,name:e.name,singerName:s(e.song.artists,"name"),coverImg:e.song.album.picUrl,albumName:e.song.album.name}))}),t}function o(e){var t=[];return e.forEach(function(e){t.push(new i({id:e.id,name:e.name,singerName:s(e.ar,"name"),coverImg:e.al.picUrl,albumName:e.al.name}))}),t}function c(e){var t=[];return e.forEach(function(e){t.push(new i({id:e.id,name:e.name,singerName:s(e.artists,"name"),coverImg:"",albumName:e.album.name}))}),t}}}]);
//# sourceMappingURL=recommend.38a39896.js.map