(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["recommend"],{"531d":function(t,e,n){"use strict";var a=n("8912"),i=n.n(a);i.a},"72c9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("scroll",{staticClass:"wrap",attrs:{data:t.scrollList}},[n("div",{staticClass:"content"},[n("div",{staticClass:"banner"},[n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.bannerList.length,expression:"!bannerList.length"}]}),n("swiper",{directives:[{name:"show",rawName:"v-show",value:t.showBanner,expression:"showBanner"}],ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(t.bannerList,function(t){return n("swiper-slide",{key:t.id,staticClass:"banner-item"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.pic,expression:"item.pic"}],attrs:{alt:"图片"}})])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),n("div",{staticClass:"music-list"},[n("h3",[t._v("推荐歌单")]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.recommendList.length,expression:"!recommendList.length"}]}),n("ul",t._l(t.recommendList,function(e){return n("li",{key:e.id,staticClass:"list-item",on:{click:function(n){return t.handleItemClick(e.id)}}},[n("div",{staticClass:"cover"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{alt:"图片"}}),n("div",{staticClass:"count"},[n("i",{staticClass:"iconfont icon-listen"}),n("span",[t._v(t._s(t.formatNum(e.playCount)))])])]),n("p",{staticClass:"desc"},[t._v(t._s(e.name))])])}),0)],1),n("div",{staticClass:"music-latest"},[n("h3",[t._v("最新音乐")]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.latestList.length,expression:"!latestList.length"}]}),n("ul",t._l(t.latestList,function(e,a){return n("li",{key:e.id,staticClass:"latest-item",on:{click:function(e){return t.handleSelect(a)}}},[n("h4",{staticClass:"song"},[t._v(t._s(e.name))]),n("p",{staticClass:"singer"},[t._v(t._s(e.singerName))]),n("i",{staticClass:"iconfont icon-play-s"})])}),0)],1)])]),n("animation-fade",[n("router-view")],1)],1)},i=[],s=n("cebc"),r=n("bc3a"),o=n.n(r),c=n("da71");function l(){return o.a.get("".concat(c["b"],"/banner?type=2")).then(function(t){return Promise.resolve(t.data)})}function u(){return o.a.get("".concat(c["b"],"/personalized?limit=9")).then(function(t){return Promise.resolve(t.data)})}function m(){return o.a.get("".concat(c["b"],"/personalized/newsong")).then(function(t){return Promise.resolve(t.data)})}var d=n("f5de"),h=n("2f62"),f={name:"recommend",data:function(){return{swiperOption:{autoplay:3e3,loop:!0,pagination:".swiper-pagination",initialSlide:1},bannerList:[],recommendList:[],latestList:[]}},computed:{showBanner:function(){return this.bannerList.length},scrollList:function(){return this.recommendList.concat(this.latestList)}},mounted:function(){this._getBanner(),this._getRecommend(),this._getLatest()},methods:Object(s["a"])({},Object(h["b"])(["selectPlay"]),{_getBanner:function(){var t=this;l().then(function(e){e.code===c["a"]&&(t.bannerList=e.banners)})},_getRecommend:function(){var t=this;u().then(function(e){e.code===c["a"]&&(t.recommendList=e.result)})},_getLatest:function(){var t=this;m().then(function(e){if(e.code===c["a"]){var n=e.result;t.latestList=Object(d["a"])(n)}})},handleItemClick:function(t){this.$router.push("/recommend/".concat(t))},handleSelect:function(t){this.selectPlay({list:this.latestList,index:t})},formatNum:function(t){return Math.round(t/1e4)+"万"}})},v=f,p=(n("531d"),n("2877")),g=Object(p["a"])(v,a,i,!1,null,"1266607a",null);e["default"]=g.exports},8912:function(t,e,n){},f5de:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return c});n("ac6a"),n("7f7f");var a=n("d225"),i=function t(e){var n=e.id,i=e.name,s=e.singerName,r=e.coverImg,o=e.albumName;Object(a["a"])(this,t),this.id=n,this.name=i,this.singerName=s,this.coverImg=r,this.albumName=o};function s(t,e){var n=[];return t?(t.forEach(function(t){n.push(t[e])}),n.join("/")):""}function r(t){var e=[];return t.forEach(function(t){e.push(new i({id:t.id,name:t.name,singerName:s(t.song.artists,"name"),coverImg:t.song.album.picUrl,albumName:t.song.album.name}))}),e}function o(t){var e=[];return t.forEach(function(t){e.push(new i({id:t.id,name:t.name,singerName:s(t.ar,"name"),coverImg:t.al.picUrl,albumName:t.al.name}))}),e}function c(t){var e=[];return t.forEach(function(t){e.push(new i({id:t.id,name:t.name,singerName:s(t.artists,"name"),coverImg:"",albumName:t.album.name}))}),e}}}]);
//# sourceMappingURL=recommend.fe0a3846.js.map