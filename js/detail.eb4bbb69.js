(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["detail"],{"24a3":function(t,a,n){"use strict";n.d(a,"b",function(){return c}),n.d(a,"c",function(){return r}),n.d(a,"a",function(){return l});var e=n("bc3a"),i=n.n(e),s=n("da71");function c(t){return i.a.get("".concat(s["b"],"/playlist/detail?id=").concat(t)).then(function(t){return Promise.resolve(t.data)})}function r(t){return i.a.get("".concat(s["b"],"/artists?id=").concat(t)).then(function(t){return Promise.resolve(t.data)})}function l(t){return i.a.get("".concat(s["b"],"/album?id=").concat(t)).then(function(t){return Promise.resolve(t.data)})}},"6ab7":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"wrap"},[n("header",[n("i",{staticClass:"iconfont icon-back",on:{click:t.handleBack}})]),n("scroll",{staticClass:"content-wrap",attrs:{data:t.playlist}},[n("div",{staticClass:"content"},[n("div",{staticClass:"cover",style:{backgroundImage:"url("+t.listCover+")"}},[n("h3",{staticClass:"title"},[t._v(t._s(t.listName))])]),n("div",{staticClass:"list"},[n("h3",[t._v("歌曲列表")]),n("loading",{directives:[{name:"show",rawName:"v-show",value:!t.playlist.length,expression:"!playlist.length"}]}),n("ul",t._l(t.playlist,function(a,e){return n("li",{key:a.id,staticClass:"list-item",on:{click:function(a){return t.handleSelect(e)}}},[n("h4",{staticClass:"song"},[t._v(t._s(a.name))]),n("p",{staticClass:"singer"},[t._v(t._s(a.singerName))]),n("i",{staticClass:"iconfont icon-play-s"})])}),0)],1)])])],1)])},i=[],s=(n("7f7f"),n("cebc")),c=n("24a3"),r=n("da71"),l=n("f5de"),o=n("2f62"),u={name:"detail",data:function(){return{listCover:"",listName:"",playlist:[]}},mounted:function(){this._getPlaylist(this.$route.params.id)},methods:Object(s["a"])({},Object(o["b"])(["selectPlay"]),{handleBack:function(){this.$router.back()},_getPlaylist:function(t){var a=this;Object(c["b"])(t).then(function(t){if(t.code===r["a"]){a.listCover=t.playlist.coverImgUrl,a.listName=t.playlist.name;var n=t.playlist.tracks;a.playlist=Object(l["b"])(n)}})},handleSelect:function(t){this.selectPlay({list:this.playlist,index:t})}})},m=u,d=(n("8aa9"),n("2877")),f=Object(d["a"])(m,e,i,!1,null,"3094ebdc",null);a["default"]=f.exports},"8aa9":function(t,a,n){"use strict";var e=n("bb17"),i=n.n(e);i.a},bb17:function(t,a,n){},f5de:function(t,a,n){"use strict";n.d(a,"a",function(){return c}),n.d(a,"b",function(){return r}),n.d(a,"c",function(){return l});n("ac6a"),n("7f7f");var e=n("d225"),i=function t(a){var n=a.id,i=a.name,s=a.singerName,c=a.coverImg,r=a.albumName;Object(e["a"])(this,t),this.id=n,this.name=i,this.singerName=s,this.coverImg=c,this.albumName=r};function s(t,a){var n=[];return t?(t.forEach(function(t){n.push(t[a])}),n.join("/")):""}function c(t){var a=[];return t.forEach(function(t){a.push(new i({id:t.id,name:t.name,singerName:s(t.song.artists,"name"),coverImg:t.song.album.picUrl,albumName:t.song.album.name}))}),a}function r(t){var a=[];return t.forEach(function(t){a.push(new i({id:t.id,name:t.name,singerName:s(t.ar,"name"),coverImg:t.al.picUrl,albumName:t.al.name}))}),a}function l(t){var a=[];return t.forEach(function(t){a.push(new i({id:t.id,name:t.name,singerName:s(t.artists,"name"),coverImg:"",albumName:t.album.name}))}),a}}}]);
//# sourceMappingURL=detail.eb4bbb69.js.map